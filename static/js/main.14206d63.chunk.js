(this.webpackJsonprmovies=this.webpackJsonprmovies||[]).push([[0],{25:function(e,t,a){e.exports={root:"SearchCard_root__59aaQ",post:"SearchCard_post__3q3kl",detail:"SearchCard_detail__1Gi2Z",title:"SearchCard_title__2wgdK",vote:"SearchCard_vote__1y1FK",high:"SearchCard_high__1RH35",date:"SearchCard_date__P7Uza"}},34:function(e,t,a){e.exports={root:"Card_root__1H75O",post:"Card_post__1qSUd",title:"Card_title__11Qx3",rate:"Card_rate__2DaFi",high:"Card_high__6NkBD"}},35:function(e,t,a){e.exports={root:"movies_root__WPbyr",toolbar:"movies_toolbar__2SxAV",spacer:"movies_spacer__1Bcfz",link:"movies_link__1dMDo"}},38:function(e,t,a){e.exports={root:"SearchGuide_root__d_Omi",arrow:"SearchGuide_arrow__3Du75",large:"SearchGuide_large__1qEE0",small:"SearchGuide_small__1ws3w"}},51:function(e,t,a){e.exports={root:"Toggle_root__2l-yp",item:"Toggle_item__2nX-S",active:"Toggle_active__2rm3b"}},52:function(e,t,a){e.exports={root:"MovieList_root__5OC5j",item:"MovieList_item__KLnE_","single-column":"MovieList_single-column__1nZ34"}},53:function(e,t,a){e.exports={root:"SearchInput_root__ulOvK",wrapper:"SearchInput_wrapper__1oyXA",input:"SearchInput_input__DM7ef"}},58:function(e,t,a){e.exports={icon:"Icon_icon__3AZ_2"}},66:function(e,t,a){e.exports={root:"Toolbar_root__1dC3l"}},70:function(e,t,a){e.exports={toggle:"List_toggle__2f2Bz"}},71:function(e,t,a){e.exports={input:"Search_input__3bsFb"}},75:function(e,t,a){e.exports=a(87)},84:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(40),i=a.n(c),l=a(10),s=a(21),u=a(22),p=a(12),m=a(63),v=a(95),d=a(15);function b(e){return"fetch-".concat(e,"-pagination-start")}function g(e){return"fetch-".concat(e,"-pagination-success")}function h(e){return"fetch-".concat(e,"-pagination-failure")}function f(e){return"reset-".concat(e,"-pagination")}function _(e){return"fetch-".concat(e,"-pagination-cancellation")}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:b(e),movieType:e,page:t}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{type:b(n.searchMovie),movieType:n.searchMovie,query:e,page:t}}!function(e){e.popular="popular",e.nowPlaying="nowPlaying",e.topRated="topRated",e.upcoming="upcoming",e.searchMovie="searchMovie"}(n||(n={}));var O,j=Object(p.combineReducers)({movies:(O="movies",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g(t.movieType):return Object(d.a)({},e,{},t.payload.entities[O]);default:return e}})});var w=Object(p.combineReducers)({popular:k(n.popular),nowPlaying:k(n.nowPlaying),upcoming:k(n.upcoming),topRated:k(n.topRated),searchMovie:k(n.searchMovie)});function k(e){var t={page:0,ids:[],loading:!1};return function(){var a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case b(e):return Object(d.a)({},r,{loading:!0});case h(e):return Object(d.a)({},r,{loading:!1});case g(e):var c=r.ids.concat((null===(a=o.payload)||void 0===a?void 0:a.result.ids)||[]);return Object(d.a)({},r,{},null===(n=o.payload)||void 0===n?void 0:n.result,{ids:c});case _(e):return Object(d.a)({},r,{loading:!1});case f(e):return t;default:return r}}}function N(e){return{type:"set-search-link-visible",searchLinkVisible:e}}function M(e){return{type:"set-close-link-visible",closeLinkVisible:e}}var S,x={selectedMovieType:n.popular,searchLinkVisible:!0,closeLinkVisible:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"select-movie-type":return Object(d.a)({},e,{selectedMovieType:t.selectedType});case"set-search-link-visible":return Object(d.a)({},e,{searchLinkVisible:t.searchLinkVisible});case"set-close-link-visible":return Object(d.a)({},e,{closeLinkVisible:t.closeLinkVisible});default:return e}},T=Object(p.combineReducers)({entities:j,pagination:w,ui:C}),L=a(96),P=a(65),z=a(99),R=a(90),V=a(64),B=a(47),I=a(91),U=a(92),q=a(57),D={results:[new q.b.Entity("movies")]},F=function(e){return e.pipe(Object(R.a)((function(e){return e.type===b(e.movieType)})),Object(V.a)((function(t){return Object(z.a)(t.url).pipe(Object(B.a)((function(e){var a,n,r=Object(q.a)(e.response,D);return a=t.movieType,n={result:{page:r.result.page,ids:r.result.results,loading:!1,totalPages:r.result.total_pages,totalResults:r.result.total_results},entities:r.entities},{type:g(a),movieType:a,payload:n}})),Object(I.a)(e.pipe(Object(R.a)((function(e){return e.type===_(e.movieType)})))),Object(U.a)((function(){return Object(P.a)({type:h(e=t.movieType),movieType:e});var e})))})))},G=function(e,t,a){return Object(L.a)(F)(e,t,a).pipe(Object(U.a)((function(e,t){return console.error(e),t})))},K=a(5),H=(S={},Object(K.a)(S,n.popular,"/movie/popular"),Object(K.a)(S,n.nowPlaying,"/movie/now_playing"),Object(K.a)(S,n.topRated,"/movie/top_rated"),Object(K.a)(S,n.upcoming,"/movie/upcoming"),Object(K.a)(S,n.searchMovie,"/search/movie"),S),A=function(){return function(e){return function(t){return t.movieType&&b(t.movieType)===t.type&&(t.movieType===n.searchMovie?t.url="https://api.themoviedb.org/3".concat(H[t.movieType],"?page=").concat(t.page,"&query=").concat(encodeURIComponent(t.query),"&api_key=1329f6fe0ea9aee966eade5d2d5da1d4"):t.url="https://api.themoviedb.org/3".concat(H[t.movieType],"?page=").concat(t.page,"&api_key=1329f6fe0ea9aee966eade5d2d5da1d4")),e(t)}}},W=Object(v.a)();a(84);var Z,J=a(13),Q=a.n(J),X=a(66),Y=a.n(X),$=function(e){var t=e.children,a=e.className;return o.a.createElement("div",{className:Q()(Y.a.root,a)},o.a.createElement("img",{src:"https://www.themoviedb.org/assets/2/v4/logos/208x226-stacked-green-9484383bd9853615c113f020def5cbe27f6d08a84ff834f41371f223ebad4a3c.png",height:"26",alt:"icon"}),t)},ee=a(58),te=a.n(ee),ae=o.a.createElement("svg",{className:te.a.icon,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),ne=o.a.createElement("svg",{className:te.a.icon,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},o.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})),re=function(e){switch(e.type){case"close":return ae;case"search":return ne;default:return ae}},oe=a(51),ce=a.n(oe),ie=(Z={},Object(K.a)(Z,n.popular,{label:"Popular",link:"/rmovie/popular"}),Object(K.a)(Z,n.nowPlaying,{label:"Now Playing",link:"/rmovie/now-playing"}),Object(K.a)(Z,n.topRated,{label:"Top Rated",link:"/rmovie/top-rated"}),Object(K.a)(Z,n.upcoming,{label:"Upcoming",link:"/rmovie/upcoming"}),Z),le=function(e){var t=e.className;return o.a.createElement("nav",{className:Q()(ce.a.root,t)},Object.values(ie).map((function(e){return o.a.createElement(s.c,{to:e.link,className:ce.a.item,activeClassName:ce.a.active,key:e.label},e.label)})))},se=a(68),ue=a(52),pe=a.n(ue),me=function(e){var t=e.list,a=e.item,n=e.hasMore,r=e.onNext,c=e.singleColumn;return o.a.createElement(se.a,{scrollThreshold:.9,dataLength:t.length,loader:"",next:r,hasMore:n,className:pe.a.root},t.map((function(e){return o.a.createElement("div",{key:e.id,className:Q()(pe.a.item,Object(K.a)({},pe.a["single-column"],c))},a(e))})))},ve=o.a.createContext(null),de=a(34),be=a.n(de),ge=function(e){var t=e.movie,a=Object(r.useContext)(ve);return o.a.createElement("div",{className:be.a.root},o.a.createElement("div",{className:Q()(be.a.rate,Object(K.a)({},be.a.high,t.vote_average>7))},null===t||void 0===t?void 0:t.vote_average),o.a.createElement("img",{className:be.a.post,src:fe(t,a),alt:"movie poster"}),o.a.createElement("p",{className:be.a.title},t.title))},he=o.a.memo(ge);function fe(e,t){return e?t.imageBaseUrl+t.posterSize+e.poster_path:""}var _e=a(69),Ee=Object(_e.a)((function(e,t){return e.pagination[t||e.ui.selectedMovieType].ids}),(function(e){return e.entities.movies}),(function(e,t){return e.map((function(e){return t[e]}))}));function ye(e){return null==e.totalPages||e.page<e.totalPages}var Oe=a(70),je=a.n(Oe),we=function(e){var t=e.type,a=Object(l.c)((function(e){return e.pagination[t]})),n=Object(l.c)((function(e){return Ee(e,t)})),c=ye(a),i=Object(l.b)();Object(r.useEffect)((function(){i(N(!0)),i(M(!1))}),[i]),Object(r.useEffect)((function(){var e=a.page,n=a.loading;0!==e||n||i(E(t,1))}),[i,t,a]);var s=Object(r.useCallback)((function(){var e=a.page,n=a.loading,r=ye(a);!n&&r&&i(E(t,e+1))}),[i,t,a]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(le,{className:je.a.toggle}),o.a.createElement(me,{list:n,onNext:s,hasMore:c,item:function(e){return o.a.createElement(he,{movie:e})}}))},ke=a(73),Ne=a(97),Me=a(93),Se=a(98),xe=a(94),Ce=a(53),Te=a.n(Ce),Le=function(e){var t=e.onInput,a=e.className,n=Object(r.useCallback)((function(e){t(e.target.value)}),[t]);return o.a.createElement("div",{className:Q()(Te.a.root,a)},o.a.createElement("label",{className:Te.a.wrapper},o.a.createElement("svg",{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",stroke:"currentColor",strokeWidth:"2"},o.a.createElement("path",{d:"M14.5 14.5l-3.72-3.72"}),o.a.createElement("circle",{cx:"6.67",cy:"6.67",r:"5.33"}))),o.a.createElement("input",{onInput:n,className:Te.a.input,type:"search",placeholder:"Search movies..."})))},Pe=a(38),ze=a.n(Pe),Re=function(){return o.a.createElement("div",{className:ze.a.root},o.a.createElement("h1",{className:ze.a.arrow},o.a.createElement("span",{role:"img","aria-label":"look up"},"\u261d\ufe0f")),o.a.createElement("p",{className:ze.a.large},"Search for movies"),o.a.createElement("p",{className:ze.a.small},"use the search bar above"))},Ve=a(25),Be=a.n(Ve),Ie=function(e){var t=e.movie,a=Object(r.useContext)(ve);return o.a.createElement("div",{className:Be.a.root},o.a.createElement("img",{className:Be.a.post,src:qe(t,a),alt:"poster"}),o.a.createElement("div",{className:Be.a.detail},o.a.createElement("div",{className:Be.a.title},t.title),o.a.createElement("div",null,o.a.createElement("span",{className:Q()(Be.a.vote,Object(K.a)({},Be.a.hign,((null===t||void 0===t?void 0:t.vote_average)||0)>7))},t.vote_average," User Score"),o.a.createElement("span",{className:"date"},t.release_date))))},Ue=o.a.memo(Ie);function qe(e,t){return e?t.imageBaseUrl+t.posterSize+e.poster_path:""}var De=a(71),Fe=a.n(De),Ge=function(){var e=Object(l.c)((function(e){return e.pagination[n.searchMovie]})),t=Object(l.c)((function(e){return Ee(e,n.searchMovie)})),a=ye(e),c=Object(l.b)(),i=Object(r.useMemo)((function(){return new Ne.a}),[]),s=Object(r.useState)(!0),u=Object(ke.a)(s,2),p=u[0],m=u[1],v=Object(r.useRef)(""),d=Object(r.useCallback)((function(){var e;c({type:_(e=n.searchMovie),movieType:e}),c(function(e){return{type:f(e),movieType:e}}(n.searchMovie))}),[c]),b=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;d(),v.current=e,e&&c(y(e,t))}),[c,d]),g=Object(r.useCallback)((function(){var t=e.page,a=e.loading,n=ye(e);!a&&n&&c(y(v.current,t+1))}),[c,e]),h=Object(r.useMemo)((function(){return i.asObservable().pipe(Object(Me.a)((function(e){e?m(!1):(m(!0),d())})),Object(Se.a)(600),Object(xe.a)()).subscribe(b)}),[i,m,d,b]),E=Object(r.useCallback)((function(e){i.next(e)}),[i]);return Object(r.useEffect)((function(){return c(N(!1)),c(M(!0)),function(){h.unsubscribe(),i.complete(),d()}}),[c,i,h,d]),o.a.createElement(o.a.Fragment,null,o.a.createElement(Le,{onInput:E,className:Fe.a.input}),p?o.a.createElement(Re,null):o.a.createElement(me,{singleColumn:!0,item:function(e){return o.a.createElement(Ue,{movie:e})},onNext:g,hasMore:a,list:t}))},Ke=a(35),He=a.n(Ke),Ae=function(e){var t=e.match,a=Object(l.c)((function(e){return e.ui.searchLinkVisible})),r=Object(l.c)((function(e){return e.ui.closeLinkVisible}));return o.a.createElement("div",{className:He.a.root},o.a.createElement($,{className:He.a.toolbar},o.a.createElement("span",{className:He.a.spacer}),a&&o.a.createElement(s.b,{to:"".concat(t.url,"/search"),className:He.a.link},o.a.createElement(re,{type:"search"})),r&&o.a.createElement(s.b,{to:"".concat(t.url,"/"),className:He.a.link},o.a.createElement(re,{type:"close"}))),o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"".concat(t.url,"/popular")},o.a.createElement(we,{type:n.popular})),o.a.createElement(u.b,{path:"".concat(t.url,"/now-playing")},o.a.createElement(we,{type:n.nowPlaying})),o.a.createElement(u.b,{path:"".concat(t.url,"/top-rated")},o.a.createElement(we,{type:n.topRated})),o.a.createElement(u.b,{path:"".concat(t.url,"/upcoming")},o.a.createElement(we,{type:n.upcoming})),o.a.createElement(u.b,{path:"".concat(t.url,"/search")},o.a.createElement(Ge,null)),o.a.createElement(u.a,{to:"".concat(t.url,"/popular")})))},We=(a(86),function(e){var t=e.match;return o.a.createElement(u.d,null,o.a.createElement(u.b,{path:"".concat(t.url,"rmovie"),component:Ae}),o.a.createElement(u.a,{to:"".concat(t.url,"rmovie"),exact:!0}))}),Ze=function(e){var t=[A,W],a=p.applyMiddleware.apply(void 0,t),n=Object(m.composeWithDevTools)(a),r=Object(p.createStore)(T,e,n);return W.run(G),r}();i.a.render(o.a.createElement(l.a,{store:Ze},o.a.createElement(ve.Provider,{value:{apiEndPoint:"https://api.themoviedb.org/3",imageBaseUrl:"https://image.tmdb.org/t/p/",backdropSize:"w780",logoSize:"w300",posterSize:"w300",profileSize:"w185",stillSize:"w300",apiKey:"1329f6fe0ea9aee966eade5d2d5da1d4"}},o.a.createElement(s.a,null,o.a.createElement(u.b,{path:"/",component:We})))),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.14206d63.chunk.js.map